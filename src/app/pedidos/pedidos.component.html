<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

<div class="container-fluid">
        <input type="hidden" name="_csrf" value="{{curf}}">
    <div class="row">
        <div class="col-sm-12">
            
        </div>
    </div>
    <div class="row" style="height: 80%;" >
        <div class="col-lg-2">
            
        </div>
        <div class="col-lg-10">
            
        </div>
    </div>
        
  
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edicion de Pedido</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <app-pedidoeditor [pedidoAEditar]="pedidoInfo" (gabroPedidoExito)="pedidoGraboExito($event)" (gabroPedidoError)="getPedidos($event)"></app-pedidoeditor>
            </div>
        </div>
    </div>
</div> 
<div class="mail-box">
    <aside class="sm-side">
        <div class="user-head">
            <div class="user-name">
                <h5><a href="#">Estados del Pedido</a></h5>
            </div>
            <a class="mail-dropdown pull-right" href="javascript:;">
                <i class="fa fa-chevron-down"></i>
            </a>
        </div>
        <div class="inbox-body">
            <a href="#exampleModal" data-toggle="modal"  title="Agregar Pedido" class="btn btn-compose2" #buttonModalEdit data-toggle="modal" data-target="#exampleModal" (click)="limpiarPedido()">
                    Agregar Pedido
            </a>
            <button type="button" class="btn btn-compose2" (click)="obtenertoken()" > Obtener token ML</button>
        </div>
        <ul class="inbox-nav inbox-divider">
            <app-menuformasenvios (cambioMetodoEnvio)="obtenerPedidosPorFormaEnvio($event)" [pedidosPorEnvio]="pedidosPorEnvio"></app-menuformasenvios>
        </ul>
    </aside>
    <aside class="lg-side">
        <div class="inbox-head">
            <h3>Pedidos {{estadoNombre}}</h3>
            <form action="#" class="pull-right position">
                <div class="input-append">
                    <input type="text" class="sr-input" placeholder="Search Mail">
                    <button class="btn sr-btn" type="button"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
        <div class="inbox-body">
            <div class="mail-option">
                <app-toolbarestados [formaenvioactual]="idFormaEnvioActual" [pendientes]="pendientes" [apreparar]="apreparar" [preparados]="preparados" [entregados]="entregados" [finalizados]="finalizados"></app-toolbarestados>            
            </div>
            <div>
                <app-dragula [colorfondo]="colorformaenvio" [aPreparar]="dAPreparar" [preparados]="dPreparado" [entregados]="dEntregado" (cambioEstadoEvento)="actualizarEstado($event)" (modificarPedidoEvento)="editarPedidoEnModal($event)" (finalizarPedidoEvento)="finalizarPedido($event)"></app-dragula>                
            </div>
        </div>
    </aside>
    <footer>
        <input type="input" hidden class="form-control" name="token" id="token" (focusout)="setGlobalToken()" [(ngModel)]="token" placeholder="token"/>
    </footer>
</div>


    
<button hidden="hidden" type="button"   #buttonModalEdit2 data-toggle="modal" data-target="#exampleModal"> Agregar Pedido </button>
<!-- https://www.w3schools.com/bootstrap/bootstrap_modal.asp -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edicion de Pedido</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <app-pedidoeditor [pedidoAEditar]="pedidoInfo" (gabroPedidoExito)="pedidoGraboExito($event)" (gabroPedidoError)="getPedidos($event)"></app-pedidoeditor>
            </div>
        </div>
    </div>
</div>  

