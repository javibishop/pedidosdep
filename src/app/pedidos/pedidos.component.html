<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

<div class="container-fluid">
        <input type="hidden" name="_csrf" value="{{curf}}">
    <div class="row">
        <div class="col-sm-12">
            
        </div>
    </div>
    <div class="row" style="height: 80%;" >
        <div class="col-lg-2">
            
        </div>
        <div class="col-lg-10">
            
        </div>
    </div>
        
  
</div>

<div class="mail-box">
    <aside class="sm-side">
        <div class="user-head">
            <div class="user-name">
                <h5><a href="#">Estados del Pedido</a></h5>
            </div>
            <a class="mail-dropdown pull-right" href="javascript:;">
                <i class="fa fa-chevron-down"></i>
            </a>
        </div>
        <div class="inbox-body">
            <a href="#exampleModal" data-toggle="modal"  title="Agregar Pedido" class="btn btn-compose2" #buttonModalEdit data-toggle="modal" data-target="#exampleModal">
                    Agregar Pedido
            </a>
            <button type="button" class="btn btn-compose" (click)="obtenertoken()" > Obtener token ML</button>
         
         
<!-- 
            <button type="button" class="btn btn-secondary mt-3 ml-1 mr-1"  > Obtener token ML</button>
            <button type="button" class="btn btn-secondary mt-3 ml-1 mr-1" #buttonModalEdit data-toggle="modal" data-target="#exampleModal"> Agregar Pedido </button> -->

            <!-- Modal -->
            <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal" class="modal fade" style="display: none;">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">Ã—</button>
                            <h4 class="modal-title">Compose</h4>
                        </div>
                        <div class="modal-body">
                            <form role="form" class="form-horizontal">
                                <div class="form-group">
                                    <label class="col-lg-2 control-label">To</label>
                                    <div class="col-lg-10">
                                        <input type="text" placeholder="" id="inputEmail1" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label">Cc / Bcc</label>
                                    <div class="col-lg-10">
                                        <input type="text" placeholder="" id="cc" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label">Subject</label>
                                    <div class="col-lg-10">
                                        <input type="text" placeholder="" id="inputPassword1" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-2 control-label">Message</label>
                                    <div class="col-lg-10">
                                        <textarea rows="10" cols="30" class="form-control" id="" name=""></textarea>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-lg-offset-2 col-lg-10">
                                        <span class="btn green fileinput-button">
                                        <i class="fa fa-plus fa fa-white"></i>
                                        <span>Attachment</span>
                                        <input type="file" name="files[]" multiple>
                                        </span>
                                        <button class="btn btn-send" type="submit">Send</button>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div><!-- /.modal-content -->
                </div><!-- /.modal-dialog -->
            </div><!-- /.modal -->
        </div>
        <ul class="inbox-nav inbox-divider">
            <app-menuformasenvios (cambioMetodoEnvio)="obtenerPedidosPorFormaEnvio($event)" [pedidosPorEnvio]="pedidosPorEnvio"></app-menuformasenvios>
        </ul>
    </aside>
    <aside class="lg-side">
        <div class="inbox-head">
            <h3>Pedidos {{estadoNombre}}</h3>
            <form action="#" class="pull-right position">
                <div class="input-append">
                    <input type="text" class="sr-input" placeholder="Search Mail">
                    <button class="btn sr-btn" type="button"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
        <div class="inbox-body">
            <div class="mail-option">
                <app-toolbarestados [formaenvioactual]="idFormaEnvioActual" [pendientes]="pendientes" [apreparar]="apreparar" [preparados]="preparados" [entregados]="entregados" [finalizados]="finalizados"></app-toolbarestados>            
            </div>
            <div>
                <app-dragula [colorfondo]="colorformaenvio" [aPreparar]="dAPreparar" [preparados]="dPreparado" [entregados]="dEntregado" (cambioEstadoEvento)="actualizarEstado($event)" (modificarPedidoEvento)="editarPedidoEnModal($event)" (finalizarPedidoEvento)="finalizarPedido($event)"></app-dragula>                
            </div>
        </div>
    </aside>
    <footer>
        <input type="input" class="form-control" name="token" id="token" (focusout)="setGlobalToken()" [(ngModel)]="token" placeholder="token"/>
    </footer>
</div>


    
<button hidden="hidden" type="button"   #buttonModalEdit data-toggle="modal" data-target="#exampleModal"> Agregar Pedido </button>
<!-- https://www.w3schools.com/bootstrap/bootstrap_modal.asp -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Edicion de Pedido</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <app-pedidoeditor [pedidoAEditar]="pedidoInfo" (gabroPedidoExito)="pedidoGraboExito($event)" (gabroPedidoError)="getPedidos($event)"></app-pedidoeditor>
            </div>
        </div>
    </div>
</div>  

